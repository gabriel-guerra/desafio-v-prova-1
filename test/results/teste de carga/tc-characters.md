# Resultado Teste de carga: `/personagens`

## Sem cluster
$ npm run cannon:characters

desafio-v-prova-1@1.0.0 cannon:characters
npx autocannon -c 500 -d 20 -w 10 --renderStatusCodes --latency --warmup [ -c 1 -d 2 ] localhost:3000/personagens

Running 2s warmup @ http://localhost:3000/personagens
1 connections
10 workers

Running 20s test @ http://localhost:3000/personagens
500 connections
10 workers

┌─────────┬────────┬─────────┬──────────┬──────────┬────────────┬────────────┬──────────┐
│ Stat    │ 2.5%   │ 50%     │ 97.5%    │ 99%      │ Avg        │ Stdev      │ Max      │
├─────────┼────────┼─────────┼──────────┼──────────┼────────────┼────────────┼──────────┤
│ Latency │ 551 ms │ 1420 ms │ 18315 ms │ 19082 ms │ 3776.05 ms │ 5030.15 ms │ 20050 ms │
└─────────┴────────┴─────────┴──────────┴──────────┴────────────┴────────────┴──────────┘
┌───────────┬────────┬────────┬────────┬─────────┬─────────┬────────┬─────────┐
│ Stat      │ 1%     │ 2.5%   │ 50%    │ 97.5%   │ Avg     │ Stdev  │ Min     │
├───────────┼────────┼────────┼────────┼─────────┼─────────┼────────┼─────────┤
│ Req/Sec   │ 288    │ 288    │ 345    │ 371     │ 344,3   │ 18,69  │ 288     │
├───────────┼────────┼────────┼────────┼─────────┼─────────┼────────┼─────────┤
│ Bytes/Sec │ 7.6 MB │ 7.6 MB │ 9.1 MB │ 9.79 MB │ 9.08 MB │ 493 kB │ 7.59 MB │
└───────────┴────────┴────────┴────────┴─────────┴─────────┴────────┴─────────┘
┌──────┬───────┐
│ Code │ Count │
├──────┼───────┤
│ 200  │ 6886  │
└──────┴───────┘

Req/Bytes counts sampled once per second.
nº of samples: 200

┌────────────┬──────────────┐
│ Percentile │ Latency (ms) │
├────────────┼──────────────┤
│ 0.001      │ 63           │
├────────────┼──────────────┤
│ 0.01       │ 63           │
├────────────┼──────────────┤
│ 0.1        │ 83           │
├────────────┼──────────────┤
│ 1          │ 294          │
├────────────┼──────────────┤
│ 2.5        │ 551          │
├────────────┼──────────────┤
│ 10         │ 875          │
├────────────┼──────────────┤
│ 25         │ 1260         │
├────────────┼──────────────┤
│ 50         │ 1420         │
├────────────┼──────────────┤
│ 75         │ 2089         │
├────────────┼──────────────┤
│ 90         │ 12991        │
├────────────┼──────────────┤
│ 97.5       │ 18315        │
├────────────┼──────────────┤
│ 99         │ 19082        │
├────────────┼──────────────┤
│ 99.9       │ 19947        │
├────────────┼──────────────┤
│ 99.99      │ 20050        │
├────────────┼──────────────┤
│ 99.999     │ 20050        │
└────────────┴──────────────┘

27k requests in 20.14s, 182 MB read
20k errors (0 timeouts)

## Com cluster
$ npm run cannon:characters

desafio-v-prova-1@1.0.0 cannon:characters
npx autocannon -c 500 -d 20 -w 10 --renderStatusCodes --latency --warmup [ -c 1 -d 2 ] localhost:3000/personagens

Running 2s warmup @ http://localhost:3000/personagens
1 connections
10 workers

Running 20s test @ http://localhost:3000/personagens
500 connections
10 workers

┌─────────┬────────┬────────┬─────────┬─────────┬───────────┬────────────┬──────────┐
│ Stat    │ 2.5%   │ 50%    │ 97.5%   │ 99%     │ Avg       │ Stdev      │ Max      │
├─────────┼────────┼────────┼─────────┼─────────┼───────────┼────────────┼──────────┤
│ Latency │ 147 ms │ 223 ms │ 2646 ms │ 4598 ms │ 630.19 ms │ 1110.61 ms │ 12655 ms │
└─────────┴────────┴────────┴─────────┴─────────┴───────────┴────────────┴──────────┘
┌───────────┬─────────┬─────────┬─────────┬─────────┬─────────┬────────┬─────────┐
│ Stat      │ 1%      │ 2.5%    │ 50%     │ 97.5%   │ Avg     │ Stdev  │ Min     │
├───────────┼─────────┼─────────┼─────────┼─────────┼─────────┼────────┼─────────┤
│ Req/Sec   │ 1.124   │ 1.124   │ 2.141   │ 2.261   │ 2.014,6 │ 296,24 │ 1.124   │
├───────────┼─────────┼─────────┼─────────┼─────────┼─────────┼────────┼─────────┤
│ Bytes/Sec │ 29.7 MB │ 29.7 MB │ 56.5 MB │ 59.6 MB │ 53.1 MB │ 7.8 MB │ 29.6 MB │
└───────────┴─────────┴─────────┴─────────┴─────────┴─────────┴────────┴─────────┘
┌──────┬───────┐
│ Code │ Count │
├──────┼───────┤
│ 200  │ 40283 │
└──────┴───────┘

Req/Bytes counts sampled once per second.
nº of samples: 200

┌────────────┬──────────────┐
│ Percentile │ Latency (ms) │
├────────────┼──────────────┤
│ 0.001      │ 31           │
├────────────┼──────────────┤
│ 0.01       │ 35           │
├────────────┼──────────────┤
│ 0.1        │ 62           │
├────────────┼──────────────┤
│ 1          │ 126          │
├────────────┼──────────────┤
│ 2.5        │ 147          │
├────────────┼──────────────┤
│ 10         │ 171          │
├────────────┼──────────────┤
│ 25         │ 192          │
├────────────┼──────────────┤
│ 50         │ 223          │
├────────────┼──────────────┤
│ 75         │ 453          │
├────────────┼──────────────┤
│ 90         │ 1995         │
├────────────┼──────────────┤
│ 97.5       │ 2646         │
├────────────┼──────────────┤
│ 99         │ 4598         │
├────────────┼──────────────┤
│ 99.9       │ 10976        │
├────────────┼──────────────┤
│ 99.99      │ 12221        │
├────────────┼──────────────┤
│ 99.999     │ 12655        │
└────────────┴──────────────┘

42k requests in 20.08s, 1.06 GB read
876 errors (0 timeouts)