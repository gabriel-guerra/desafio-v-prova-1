# Resultado Teste de carga: `/comics`

# Sem cluster
$ npm run cannon:comics

desafio-v-prova-1@1.0.0 cannon:comics
npx autocannon -c 500 -d 20 -w 10 --renderStatusCodes --latency --warmup [ -c 1 -d 2 ] localhost:3000/comics

Running 2s warmup @ http://localhost:3000/comics
1 connections
10 workers

Running 20s test @ http://localhost:3000/comics
500 connections
10 workers

┌─────────┬────────┬─────────┬──────────┬──────────┬────────────┬────────────┬──────────┐
│ Stat    │ 2.5%   │ 50%     │ 97.5%    │ 99%      │ Avg        │ Stdev      │ Max      │
├─────────┼────────┼─────────┼──────────┼──────────┼────────────┼────────────┼──────────┤
│ Latency │ 638 ms │ 3063 ms │ 17216 ms │ 19121 ms │ 3920.87 ms │ 3692.01 ms │ 19579 ms │
└─────────┴────────┴─────────┴──────────┴──────────┴────────────┴────────────┴──────────┘
┌───────────┬─────────┬─────────┬─────────┬─────────┬─────────┬────────┬─────────┐
│ Stat      │ 1%      │ 2.5%    │ 50%     │ 97.5%   │ Avg     │ Stdev  │ Min     │
├───────────┼─────────┼─────────┼─────────┼─────────┼─────────┼────────┼─────────┤
│ Req/Sec   │ 92      │ 92      │ 127     │ 140     │ 124,4   │ 11,74  │ 92      │
├───────────┼─────────┼─────────┼─────────┼─────────┼─────────┼────────┼─────────┤
│ Bytes/Sec │ 2.32 MB │ 2.32 MB │ 3.21 MB │ 3.54 MB │ 3.14 MB │ 297 kB │ 2.32 MB │
└───────────┴─────────┴─────────┴─────────┴─────────┴─────────┴────────┴─────────┘
┌──────┬───────┐
│ Code │ Count │
├──────┼───────┤
│ 200  │ 2488  │
└──────┴───────┘

Req/Bytes counts sampled once per second.
nº of samples: 200

┌────────────┬──────────────┐
│ Percentile │ Latency (ms) │
├────────────┼──────────────┤
│ 0.001      │ 67           │
├────────────┼──────────────┤
│ 0.01       │ 67           │
├────────────┼──────────────┤
│ 0.1        │ 87           │
├────────────┼──────────────┤
│ 1          │ 279          │
├────────────┼──────────────┤
│ 2.5        │ 638          │
├────────────┼──────────────┤
│ 10         │ 1277         │
├────────────┼──────────────┤
│ 25         │ 2168         │
├────────────┼──────────────┤
│ 50         │ 3063         │
├────────────┼──────────────┤
│ 75         │ 3477         │
├────────────┼──────────────┤
│ 90         │ 7654         │
├────────────┼──────────────┤
│ 97.5       │ 17216        │
├────────────┼──────────────┤
│ 99         │ 19121        │
├────────────┼──────────────┤
│ 99.9       │ 19557        │
├────────────┼──────────────┤
│ 99.99      │ 19579        │
├────────────┼──────────────┤
│ 99.999     │ 19579        │
└────────────┴──────────────┘

78k requests in 20.11s, 62.9 MB read
75k errors (101 timeouts)

# Com cluster
$ npm run cannon:comics

desafio-v-prova-1@1.0.0 cannon:comics
npx autocannon -c 500 -d 20 -w 10 --renderStatusCodes --latency --warmup [ -c 1 -d 2 ] localhost:3000/comics

Running 2s warmup @ http://localhost:3000/comics
1 connections
10 workers

Running 20s test @ http://localhost:3000/comics
500 connections
10 workers

┌─────────┬────────┬────────┬──────────┬──────────┬────────────┬────────────┬──────────┐
│ Stat    │ 2.5%   │ 50%    │ 97.5%    │ 99%      │ Avg        │ Stdev      │ Max      │
├─────────┼────────┼────────┼──────────┼──────────┼────────────┼────────────┼──────────┤
│ Latency │ 293 ms │ 585 ms │ 14110 ms │ 16738 ms │ 1875.99 ms │ 3439.21 ms │ 19636 ms │
└─────────┴────────┴────────┴──────────┴──────────┴────────────┴────────────┴──────────┘
┌───────────┬───────┬───────┬─────────┬─────────┬─────────┬─────────┬───────┐
│ Stat      │ 1%    │ 2.5%  │ 50%     │ 97.5%   │ Avg     │ Stdev   │ Min   │
├───────────┼───────┼───────┼─────────┼─────────┼─────────┼─────────┼───────┤
│ Req/Sec   │ 554   │ 554   │ 844     │ 888     │ 808,2   │ 79,59   │ 554   │
├───────────┼───────┼───────┼─────────┼─────────┼─────────┼─────────┼───────┤
│ Bytes/Sec │ 14 MB │ 14 MB │ 21.3 MB │ 22.4 MB │ 20.4 MB │ 2.01 MB │ 14 MB │
└───────────┴───────┴───────┴─────────┴─────────┴─────────┴─────────┴───────┘
┌──────┬───────┐
│ Code │ Count │
├──────┼───────┤
│ 200  │ 16164 │
└──────┴───────┘

Req/Bytes counts sampled once per second.
nº of samples: 200

┌────────────┬──────────────┐
│ Percentile │ Latency (ms) │
├────────────┼──────────────┤
│ 0.001      │ 39           │
├────────────┼──────────────┤
│ 0.01       │ 41           │
├────────────┼──────────────┤
│ 0.1        │ 100          │
├────────────┼──────────────┤
│ 1          │ 209          │
├────────────┼──────────────┤
│ 2.5        │ 293          │
├────────────┼──────────────┤
│ 10         │ 456          │
├────────────┼──────────────┤
│ 25         │ 517          │
├────────────┼──────────────┤
│ 50         │ 585          │
├────────────┼──────────────┤
│ 75         │ 768          │
├────────────┼──────────────┤
│ 90         │ 5781         │
├────────────┼──────────────┤
│ 97.5       │ 14110        │
├────────────┼──────────────┤
│ 99         │ 16738        │
├────────────┼──────────────┤
│ 99.9       │ 19077        │
├────────────┼──────────────┤
│ 99.99      │ 19553        │
├────────────┼──────────────┤
│ 99.999     │ 19636        │
└────────────┴──────────────┘

19k requests in 20.1s, 408 MB read
2k errors (0 timeouts)